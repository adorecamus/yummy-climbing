<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.yummyclimbing.mapper.board.BoardCommentMapper">

<select id="commentList" resultType="com.yummyclimbing.vo.board.BoardCommentVO">
	SELECT BC_NUM, UI_NUM, BI_NUM, BC_CONTENT, BC_ACTIVE, BC_CREDAT, BC_CRETIM, BC_MODDAT, BC_MODTIM 
	FROM BOARD_COMMENT
	WHERE BI_NUM = #{biNum} ORDER BY BC_NUM ASC
</select>

<insert id="insertComment">
	INSERT INTO BOARD_COMMENT(
	UI_ID, BC_CONTENT, BC_CREDAT, BC_CRETIM, BC_MODDAT 
	)
	VALUES(
	#{uiId}, #{bcContent}, #{bcCredat}, NOW(), NULL
	)
</insert>

<update id="updateComment">
	UPDATE BOARD_COMMENT
	SET UI_ID=#{uiId}, BC_CONTENT=#{bcContent}, BC_MODDAT= NOW()
	WHERE BC_NUM=#{bcNum} <!-- 해당 게시글에 대한 댓글수정 sql문을 모르겠습니다.. -->
</update>

<delete id="deleteComment">
	DELETE FROM BOARD_COMMENT WHERE BC_NUM=#{bcNum}
</delete>

</mapper>